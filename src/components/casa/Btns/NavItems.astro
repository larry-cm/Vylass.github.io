---
import BtnPerfil from "@components/casa/Btns/BtnPerfil.astro";
import Image from "astro/components/Image.astro";

interface Props {
    userSession: string;
    userName: string;
    userImg: string;
    entrada: {
        text: string;
        url: string;
    }[];
}
const { userSession, userImg, userName, entrada } = Astro.props;
---

{
    userSession === "true" ? (
        <>
            <BtnPerfil userName={userName ?? ""}>
                <div slot="after">
                    <Image
                        loading="eager"
                        height="20"
                        width="20"
                        class="rounded-full size-5"
                        src={userImg}
                        title="Imagen de perfil personalizada del usuario del menu normal"
                        alt="Imagen de perfil personalizada del usuario del menu normal"
                    />
                </div>
            </BtnPerfil>
            <li class="updateDetails group bg-black border border-slate-200 px-3 py-2 rounded flex items-center cursor-pointer transition-all">
                <button
                    class="flex items-center gap-1 text-white group-hover:text-red-500 font-medium relative transition-colors focus:outline-none"
                    style="outline: none;"
                    aria-label="Cerrar sesión"
                >
                    <svg
                        fill="none"
                        viewBox="0 0 24 24"
                        stroke-width="1.7"
                        stroke="currentColor"
                        class="w-5 h-5 transition-transform group-hover:-translate-x-0.5 group-hover:text-red-500"
                    >
                        <title>
                            Boton para el cierre de sesión de la pagina
                        </title>
                        <path
                            stroke-linecap="round"
                            stroke-linejoin="round"
                            d="M15.75 9V5.25A2.25 2.25 0 0013.5 3h-6a2.25 2.25 0 00-2.25 2.25v13.5A2.25 2.25 0 007.5 21h6a2.25 2.25 0 002.25-2.25V15M12 9l-3 3m0 0l3 3m-3-3h12.75"
                        />
                    </svg>
                    <span class="transition-colors cursor-pointer">
                        {" "}
                        Cerrar sesión{" "}
                    </span>
                </button>
            </li>
        </>
    ) : (
        entrada.map(({ url, text }) => (
            <li
                class:list={[
                    "border border-slate-200 rounded px-3 py-2 focus:outline-none focus:ring transition-all",

                    {
                        "bg-white dark:bg-[#1a1a1a] text-orange-600 dark:text-orange-400 hover:shadow-md  focus:ring-orange-300 dark:focus:ring-orange-500":
                            url === "/",
                    },
                    {
                        "bg-white/20 text-white backdrop-blur-sm hover:bg-white/30 focus:ring-white/50":
                            url !== "/",
                    },
                ]}
            >
                <a href={url} class="block w-full h-full font-medium">
                    {text}
                </a>
            </li>
        ))
    )
}
<button
    value=""
    class="btn-themes p-2 min-h-[41px] bg-black text-white border border-slate-200 rounded"
    type="button"
>
    <svg fill="none" viewBox="0 0 24 24" stroke-width="1.5" class="size-5">
        <title>Boton para el cambio de tema de la pagina</title>
        <path
            d="m12 3c-3.585 0-6.5 2.9225-6.5 6.5385 0 2.2826 1.162 4.2913 2.9248 5.4615h7.1504c1.7628-1.1702 2.9248-3.1789 2.9248-5.4615 0-3.6159-2.915-6.5385-6.5-6.5385zm2.8653 14h-5.7306v1h5.7306v-1zm-1.1329 3h-3.4648c0.3458 0.5978 0.9921 1 1.7324 1s1.3866-0.4022 1.7324-1zm-5.6064 0c0.44403 1.7252 2.0101 3 3.874 3s3.43-1.2748 3.874-3c0.5483-0.0047 0.9913-0.4506 0.9913-1v-2.4593c2.1969-1.5431 3.6347-4.1045 3.6347-7.0022 0-4.7108-3.8008-8.5385-8.5-8.5385-4.6992 0-8.5 3.8276-8.5 8.5385 0 2.8977 1.4378 5.4591 3.6347 7.0022v2.4593c0 0.5494 0.44301 0.9953 0.99128 1z"
            clip-rule="evenodd"
            fill="currentColor"
            fill-rule="evenodd"
        >
        </path>
    </svg>
</button>
